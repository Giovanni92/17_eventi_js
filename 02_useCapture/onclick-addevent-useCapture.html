<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>oncli event</title>
    <script>
     document.addEventListener('DOMContentLoaded', function () {
        
       var doc = document;
        var f = doc.querySelector('#form');
        /*
         f.onsubmit = function (e) {
            e.preventDefault();
            var t = e.target;
              t.style.border ='1px solid red';
           alert( e.target.name.value);
         };
         */
         function handleName(evt) {
            console.dir(evt);
          
            alert('name='+evt.target.id)

         }
         function handleContainer(evt) {
             var ele = evt.target;
             console.log(evt)
             //nodeName Ã¨ il tipo di elemento
            switch (ele.nodeName.toLowerCase()){
                case 'button':
                    //con primo parentNode arrivo a td, con secondo arrivo a tr
                    var tr =  ele.parentNode.parentNode;
                    //mi rimuove una row dalla table
                    //con parentNode accedo al td
                    tr.parentNode.removeChild(tr) 
                    evt.preventDefault();
                    break;
            }

         }
        // var name =  doc.querySelector('#name');
       //  name.addEventListener('click',  handleName, true);
       //listener su table, con un unico listener gestiamo piu eventi
       var container=  doc.querySelector('#table');
         container.addEventListener('click',  handleContainer, true);
         
     
       
       
     });
    </script>
    <link rel="stylesheet" href="../../css/bootstrap.css">
</head>
<body>
    <!-- con un unico listener che ho aggiunto all'elemento table faccio tutto -->
<table id="table" class="table-bordered" >
    <!-- se avessimo messo un evento a ogni bottone avremmo appesantito il nostro browser -->
    <tr><td>test</td><td><button class="btn btn-danger btn-sm">delete</button></td></tr>
    <tr><td>test</td><td><button  class="btn  btn-danger btn-sm">delete</button></td></tr>
    <tr><td>test</td><td><button  class="btn  btn-danger btn-sm">delete</button></td></tr>
    <tr><td>test</td><td><button  class="btn  btn-danger btn-sm">delete</button></td></tr>
</table>
<div class="container" id="container" style="border:1px solid red">
 <form class="col-md-6 push-md-3" id="form">
     <h2>Registration form</h2>
     <div class="form-group">
         <label class="col-form-label" for="name">Nome</label>
         <input class="form-control" id="name" name="name">
     </div>
     <div  class="form-group">
         <label  class="col-form-label"  for="lastname">CogNome</label>
         <input  class="form-control" id="lastname" name="lastname">
     </div>
     <div  class="form-group">
         <button id="send" class="btn btn-success btn-outline-success">Submit</button>
     </div>

 </form>
</div>

</body>
</html>